<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø¢Ø±ÛŒØ§ Ù¾Ø±Ø¯Ø§Ø®Øª â€“ ØªØ¨ ØªÙˆ Ø§Ø±Ù†</title>
<link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
--primary:#2d3436;
--secondary:#fdcb6e;
--accent:#00cec9;
--bgGradient:linear-gradient(135deg,#2d3436,#636e72,#2d3436);
--text:#ffffff;
--coinColor:#fdcb6e;
--popupGradient:linear-gradient(135deg,#2d3436,#636e72,#2d3436);
--gold:#FFD700;
}
body{
margin:0;
padding:0;
background: var(--bgGradient);
font-family:'Vazirmatn',sans-serif;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
height:100vh;
overflow:hidden;
position:relative;
user-select:none;
color:var(--text);
}
#scoreDisplay{
position:absolute;
top:12%;
font-size:36px;
font-weight:800;
color:var(--coinColor);
text-shadow:2px 2px 4px rgba(0,0,0,0.5);
z-index:5;
}
#coin{
width:280px;
height:280px;
cursor:pointer;
position:relative;
z-index:2;
border-radius:50%;
outline:none;
box-shadow:none;
transition:transform 0.2s;
}
#coin:active{
transform:scale(1.3);
}
.flying-score{
position:absolute;
font-weight:800;
font-size:28px;
pointer-events:none;
z-index:4;
transition:all 1s ease-out;
color:var(--coinColor);
text-shadow:1px 1px 5px rgba(0,0,0,0.5);
}

/* Ø±Ø§Ø¯ÛŒÙˆ Ùˆ Ø¯Ú©Ù…Ù‡ Ø´Ù†Ø§ÙˆØ± */
#radioBtn{
position:absolute;
top:5px; /* Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ± Ø¨Ù‡ Ø¨Ø§Ù„Ø§ */
left:10px;
font-size:26px;
cursor:pointer;
background:none;
border:none;
color:var(--accent);
z-index:6;
}
#optionsBtn{
position:absolute;
top:5px; /* Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ± Ø¨Ù‡ Ø¨Ø§Ù„Ø§ */
left:60px;
width:50px;
height:50px;
background:none;
border:none;
cursor:pointer;
font-size:32px;
color:#ff9f43;
display:flex;
justify-content:center;
align-items:center;
z-index:6;
transition:.3s;
transform-origin:center;
}
#optionsBtn.open{
transform:rotate(180deg);
}
#optionsMenu{
position:absolute;
top:60px; /* ÙØ§ØµÙ„Ù‡ Ø§Ø² Ø¨Ø§Ù„Ø§ */
left:60px;
background:var(--popupGradient);
padding:15px;
border-radius:20px;
box-shadow:0 8px 25px rgba(0,0,0,0.3);
display:none;
flex-direction:column;
gap:12px;
width:250px;
z-index:6;
}
.optionBtn{
padding:10px;
border-radius:15px;
background:linear-gradient(135deg,#ffffff11,#ffffff33);
border:none;
cursor:pointer;
font-weight:700;
font-size:16px;
text-align:center;
color:var(--text);
transition:.3s;
}
.optionBtn:hover:not(:disabled){
transform:scale(1.05);
background:linear-gradient(135deg,#ffffff22,#ffffff44);
}
.optionBtn:disabled{
opacity:0.4;
cursor:not-allowed;
}

/* Ù…ÙˆØ¯Ø§Ù„ Ù‡Ø§ */
.popup-bg{
position:absolute;
inset:0;
background:rgba(0,0,0,0.6);
display:none;
justify-content:center;
align-items:center;
z-index:10;
}
.popup{
background: var(--popupGradient);
padding:30px 25px;
border-radius:25px;
text-align:center;
box-shadow:0 15px 40px rgba(0,0,0,0.5);
display:flex;
flex-direction:column;
gap:20px;
width:90%;
max-width:360px;
animation:popupBounce 0.6s ease-out;
border:2px solid #ffffff50;
position:relative;
}
@keyframes popupBounce{
0% { transform: scale(0.5) rotate(-5deg); opacity:0; }
60% { transform: scale(1.05) rotate(3deg); opacity:1; }
80% { transform: scale(0.97) rotate(-2deg); }
100% { transform: scale(1) rotate(0deg); }
}
.popup h2{
color:var(--text);
font-size:22px;
font-weight:700;
margin:0;
line-height:1.4;
text-shadow:1px 1px 3px rgba(255,255,255,0.3);
}
.popup-buttons{
display:flex;
flex-direction:column;
gap:15px;
}
.popup button{
flex:1;
padding:15px 0;
border:none;
border-radius:18px;
font-size:18px;
font-weight:700;
cursor:pointer;
transition:.3s;
color:var(--text);
background:linear-gradient(135deg,#ffffff11,#ffffff33);
box-shadow:0 5px 15px rgba(0,0,0,0.25);
}
.popup button:hover{
transform:scale(1.08) translateY(-2px);
background:linear-gradient(135deg,#ffffff22,#ffffff55);
}
.closePopup{
position:absolute;
top:10px;
right:15px;
font-size:24px;
cursor:pointer;
}

/* Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† Ú©ÙˆÚ†Ú© */
#closeBtn{
position:fixed;
top:12px;
right:12px;
width:35px;
height:35px;
border-radius:50%;
border:none;
background:linear-gradient(135deg,#fdcb6e,#ff9f43);
color:#fff;
font-size:18px;
cursor:pointer;
box-shadow:0 5px 15px rgba(0,0,0,0.3);
transition:all 0.3s;
z-index:999;
}
#closeBtn:hover{
transform:scale(1.2);
box-shadow:0 8px 20px rgba(0,0,0,0.5);
}
</style>
</head>
<body>

<div id="scoreDisplay">ğŸ’° 0</div>
<button id="radioBtn">ğŸ“»</button>
<button id="optionsBtn">âŒ„</button>
<div id="optionsMenu">
  <button class="optionBtn" id="doubleXBtn">Û²x Ø§Ù…ØªÛŒØ§Ø² Û± Ø³Ø§Ø¹Øª â€“ Û²Û°Û°Û° Ø³Ú©Ù‡</button>
  <button class="optionBtn" id="fiveXBtn">Ûµx Ø§Ù…ØªÛŒØ§Ø² Û± Ø³Ø§Ø¹Øª â€“ Û¹Û°Û°Û° Ø³Ú©Ù‡</button>
  <button class="optionBtn" id="themeBtn">ØªØºÛŒÛŒØ± ØªÙ… â€“ Û±Û°Û°Û°Û° Ø³Ú©Ù‡</button>
  <button class="optionBtn" id="inviteBtn">Ø¯Ø¹ÙˆØª Ø¯ÙˆØ³ØªØ§Ù† +Û±Û°Û°Û°</button>
  <button class="optionBtn" id="supportBtn">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</button>
</div>

<img id="coin" src="https://cdn.imgurl.ir/uploads/z50006_notcoin-icon.webp" alt="NotCoin">

<!-- Ù…ÙˆØ¯Ø§Ù„ Ù‡Ø§ Ùˆ ØµÙˆØª -->
<div class="popup-bg" id="popupBg">
  <div class="popup">
    <span class="closePopup" onclick="popupBg.style.display='none'">âœ–</span>
    <h2>ğŸ’° Ø¢ÛŒØ§ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Û³Û°Û° Ø³Ú©Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ú©Ù†ÛŒØ¯ ØªØ§ Ø±Ø§Ø¯ÛŒÙˆ Ù¾Ø®Ø´ Ø´ÙˆØ¯ØŸ</h2>
    <div class="popup-buttons">
      <button id="confirmPay">âœ… Ù¾Ø±Ø¯Ø§Ø®Øª Ùˆ Ù¾Ø®Ø´</button>
      <button id="cancelPay">âŒ Ù„ØºÙˆ</button>
    </div>
  </div>
</div>

<div class="popup-bg" id="costInfoBg">
  <div class="popup">
    <span class="closePopup" onclick="costInfoBg.style.display='none'">âœ–</span>
    <h2>ğŸ’¡ Ø³Ú©Ù‡ Ø´Ù…Ø§ Ù†Ø§Ú©Ø§ÙÛŒ Ù…ÛŒ Ø¨Ø§Ø´Ø¯ Ø¨Ø±Ø§ÛŒ Ù¾Ø®Ø´ Ø±Ø§Ø¯ÛŒÙˆ Ø¨Ù‡ Û³Û°Û° Ø³Ú©Ù‡ Ù†ÛŒØ§Ø² Ø§Ø³Øª!</h2>
    <div class="popup-buttons">
      <button id="acknowledgeCost">ğŸ‘Œ Ù…ØªÙˆØ¬Ù‡ Ø´Ø¯Ù…</button>
    </div>
  </div>
</div>

<div class="popup-bg" id="inviteModal">
  <div class="popup">
    <span class="closePopup" onclick="inviteModal.style.display='none'">âœ–</span>
    <h2>ğŸ‰ Ø¯ÙˆØ³ØªØ§Ù† Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø¹ÙˆØª Ú©Ù†ÛŒØ¯!</h2>
    <input type="text" id="inviteId" placeholder="Ø¢ÛŒØ¯ÛŒ Ø¹Ø¯Ø¯ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…" style="padding:10px;border-radius:12px;width:90%;border:none;margin-bottom:10px;">
    <div class="popup-buttons">
      <button id="inviteConfirm">âœ… ØªØ§Ø¦ÛŒØ¯ Ø¢ÛŒØ¯ÛŒ</button>
      <button id="copyInvite" style="display:none">ğŸ“‹ Ú©Ù¾ÛŒ Ù„ÛŒÙ†Ú© Ø¯Ø¹ÙˆØª</button>
    </div>
  </div>
</div>

<audio id="coinSound" src="https://uploadkon.ir/uploads/a29511_25new-ford-chime.mp3"></audio>
<audio id="radioAudio" src="https://solid41.streamupsolutions.com/proxy/lmuespnh?mp=/;type=mp3" loop></audio>

<!-- Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† Ø´ÛŒÚ© -->
<button id="closeBtn">âœ–</button>

<script>
let score=parseInt(localStorage.getItem("score")||"0");
let radioPlaying=false, skipPaymentPopup=false;
let doubleXActive=false, doubleXExpire=0;
let themeAFG=false;

const coin=document.getElementById("coin");
const scoreDisplay=document.getElementById("scoreDisplay");
const coinSound=document.getElementById("coinSound");
const radioAudio=document.getElementById("radioAudio");
const radioBtn=document.getElementById("radioBtn");
const popupBg=document.getElementById("popupBg");
const confirmPay=document.getElementById("confirmPay");
const cancelPay=document.getElementById("cancelPay");
const costInfoBg=document.getElementById("costInfoBg");

const optionsBtn=document.getElementById("optionsBtn");
const optionsMenu=document.getElementById("optionsMenu");
const doubleXBtn=document.getElementById("doubleXBtn");
const fiveXBtn=document.getElementById("fiveXBtn");
const themeBtn=document.getElementById("themeBtn");
const inviteBtn=document.getElementById("inviteBtn");
const supportBtn=document.getElementById("supportBtn");

const inviteModal=document.getElementById("inviteModal");
const copyInvite=document.getElementById("copyInvite");
const inviteId=document.getElementById("inviteId");
const inviteConfirm=document.getElementById("inviteConfirm");

const closeBtn=document.getElementById("closeBtn");

scoreDisplay.innerText=`${themeAFG?'AFG':'ğŸ’°'} ${score}`;

function flyScoreToScore(startX,startY,points){
  const f=document.createElement("div");
  f.className="flying-score";
  f.innerText=`+${points}`;
  f.style.left=startX+"px";
  f.style.top=startY+"px";
  document.body.appendChild(f);
  const scoreRect=scoreDisplay.getBoundingClientRect();
  f.animate([
    { transform:`translate(0,0) scale(1)` , opacity:1 },
    { transform:`translate(${scoreRect.left + scoreRect.width/2 - startX}px, ${scoreRect.top - startY}px) scale(1.7)` , opacity:0 }
  ],{ duration:1200, easing:'ease-out' });
  setTimeout(()=>f.remove(),1200);
}

function addPoints(x,y){
  let points=1;
  if(doubleXActive && Date.now()<doubleXExpire) points*=5; 
  score+=points;
  localStorage.setItem("score",score);
  scoreDisplay.innerText=`${themeAFG?'AFG':'ğŸ’°'} ${score}`;
  coinSound.currentTime=0;
  coinSound.play().catch(()=>{});
  flyScoreToScore(x-15,y-15,points);
}

coin.addEventListener("mousedown",(e)=>{ e.preventDefault(); addPoints(e.clientX,e.clientY); });
coin.addEventListener("touchstart",(e)=>{
  e.preventDefault(); 
  addPoints(e.changedTouches[0].clientX,e.changedTouches[0].clientY);
});

// Ø±Ø§Ø¯ÛŒÙˆ
let lastRadioPlayTime=0;
radioBtn.addEventListener("click",()=>{
  const now=Date.now();
  if(!radioPlaying){
    if(skipPaymentPopup){ radioAudio.play().catch(()=>{}); radioPlaying=true; return; }
    if(score<300 && (now - lastRadioPlayTime>5*60*1000)){ costInfoBg.style.display="flex"; return; }
    popupBg.style.display="flex";
  }else{
    radioAudio.pause(); radioPlaying=false; lastRadioPlayTime=now;
    if(now - lastRadioPlayTime<5*60*1000) skipPaymentPopup=true;
  }
});

confirmPay.addEventListener("click",()=>{
  const now=Date.now();
  if(now - lastRadioPlayTime>5*60*1000) score-=300;
  localStorage.setItem("score",score);
  scoreDisplay.innerText=`${themeAFG?'AFG':'ğŸ’°'} ${score}`;
  radioAudio.play().catch(()=>{});
  radioPlaying=true; lastRadioPlayTime=now; popupBg.style.display="none"; skipPaymentPopup=true;
});
cancelPay.addEventListener("click",()=>{ popupBg.style.display="none"; });
document.getElementById("acknowledgeCost").addEventListener("click",()=>{ costInfoBg.style.display="none"; });

// Ù…Ù†ÙˆÛŒ Ø´Ù†Ø§ÙˆØ±
optionsBtn.addEventListener("click",(e)=>{
  const isOpen=optionsMenu.style.display==='flex';
  optionsMenu.style.display=isOpen?'none':'flex';
  optionsBtn.classList.toggle('open',!isOpen);
});
document.addEventListener("click",(e)=>{
  if(!optionsBtn.contains(e.target) && !optionsMenu.contains(e.target)) optionsMenu.style.display='none';
});

// Ø¯Ùˆ Ø§ÛŒÚ©Ø³
doubleXBtn.addEventListener("click",()=>{
  const now=Date.now();
  if(score<2000){ alert("Ø³Ú©Ù‡ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!"); return; }
  score-=2000; doubleXActive=true; doubleXExpire=now+60*60*1000;
  localStorage.setItem("score",score); scoreDisplay.innerText=`${themeAFG?'AFG':'ğŸ’°'} ${score}`;
  alert("Û²x Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ø§Ù„ Ø´Ø¯ ØªØ§ Û± Ø³Ø§Ø¹Øª!");
});

// Ù¾Ù†Ø¬ Ø§ÛŒÚ©Ø³
fiveXBtn.addEventListener("click",()=>{
  const now=Date.now();
  if(score<9000){ alert("Ø³Ú©Ù‡ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!"); return; }
  score-=9000; doubleXActive=true; doubleXExpire=now+60*60*1000;
  localStorage.setItem("score",score); scoreDisplay.innerText=`${themeAFG?'AFG':'ğŸ’°'} ${score}`;
  alert("Ûµx Ø§Ù…ØªÛŒØ§Ø² ÙØ¹Ø§Ù„ Ø´Ø¯ ØªØ§ Û± Ø³Ø§Ø¹Øª!");
});

// Ø¯Ø¹ÙˆØª Ø¯ÙˆØ³ØªØ§Ù†
inviteBtn.addEventListener("click",()=>{ inviteModal.style.display='flex'; });
inviteConfirm.addEventListener("click",()=>{
  if(!inviteId.value){ alert("Ù„Ø·ÙØ§Ù‹ Ø¢ÛŒØ¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯"); return; }
  copyInvite.style.display='block';
});
copyInvite.addEventListener("click",()=>{
  const userId=inviteId.value;
  const link=`t.me/ariapardakhtbot/${userId}`;
  navigator.clipboard.writeText(`Ù…Ù† Ø§ÛŒÙ† Ø¨Ø§Ø²ÛŒ Ø±Ø§ Ø¯ÙˆØ³Øª Ø¯Ø§Ø±Ù…! Ø´Ù…Ø§ Ù‡Ù… Ø¨Ø§Ø²ÛŒ Ú©Ù†ÛŒØ¯ Ùˆ Ø³Ú©Ù‡ Ø¨Ú¯ÛŒØ±ÛŒØ¯: ${link}`).then(()=>{
    alert("Ù„ÛŒÙ†Ú© Ø¯Ø¹ÙˆØª Ù‡Ù…Ø±Ø§Ù‡ Ù…ØªÙ† ØªØ¨Ù„ÛŒØºÛŒ Ú©Ù¾ÛŒ Ø´Ø¯!");
  });
});

// ØªØºÛŒÛŒØ± ØªÙ…
themeBtn.addEventListener("click",()=>{
  if(score<10000){ alert("Ø³Ú©Ù‡ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!"); return; }
  score-=10000; localStorage.setItem("score",score);
  themeAFG=true;
  coin.src="https://cdn.imgurl.ir/uploads/j905476_01ee15_252aa8d87c-857c-407b-b549-9e10edfd52d8-removebg.png";
  scoreDisplay.innerText=`AFG ${score}`;
  alert("ØªÙ… Ø¨Ø§Ø²ÛŒ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ Ùˆ Ø³Ú©Ù‡ Ø¨Ù‡ AFG ØªØ¨Ø¯ÛŒÙ„ Ø´Ø¯!");
});

// Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ
supportBtn.addEventListener("click",()=>{ window.location.href="t.me/mogomogo"; });

// Ø¯Ú©Ù…Ù‡ Ø¨Ø³ØªÙ† Ú©ÙˆÚ†Ú©
closeBtn.addEventListener("click",()=>{ window.location.href="https://mo93ch-dev.github.io/Aryapardakhttel"; });

// Ø¨Ø±Ø±Ø³ÛŒ Ø§Ù†Ù‚Ø¶Ø§ÛŒ Ø­Ø§Ù„Øªâ€ŒÙ‡Ø§
setInterval(()=>{
  const now=Date.now();
  if(doubleXActive && now>doubleXExpire) doubleXActive=false;
},1000);
</script>
</body>
</html>
